<template>
	<view class="home-container">
		<!-- é¡¶éƒ¨æ ‡é¢˜åŒºåŸŸ -->
		<view class="header-section">
			<image class="logo" src="/static/logo.png" mode="aspectFit"></image>
			<text class="app-title">ESP æ™ºèƒ½é…ç½‘</text>
			<text class="app-subtitle">å¿«é€Ÿè¿æ¥å¹¶é…ç½®æ‚¨çš„ ESP è®¾å¤‡</text>
		</view>
		
		<!-- åŠŸèƒ½å¡ç‰‡åŒºåŸŸ -->
		<view class="feature-cards">
			<view class="feature-card" @click="goToScanPage">
				<view class="card-icon">
					<text class="icon-bluetooth">ğŸ“¶</text>
				</view>
				<text class="card-title">ESPé…ç½‘</text>
				<text class="card-desc">æœç´¢ESPè®¾å¤‡å¹¶é…ç½‘</text>
			</view>
			
			<view class="feature-card" @click="goToUniversalScan">
				<view class="card-icon">
					<text class="icon-bluetooth">ğŸ”</text>
				</view>
				<text class="card-title">è“ç‰™æ‰«æ</text>
				<text class="card-desc">æ‰«ææ‰€æœ‰è“ç‰™è®¾å¤‡</text>
			</view>
		</view>
		
		<!-- å¿«é€Ÿå¼€å§‹æŒ‰é’® -->
		<view class="quick-start">
			<button class="start-button" @click="goToUniversalScan">
				<text class="button-text">å¼€å§‹æ‰«æè“ç‰™è®¾å¤‡</text>
			</button>
		</view>
		
		<!-- åº•éƒ¨è¯´æ˜ -->
		<view class="footer-tips">
			<text class="tip-text">æç¤ºï¼šè¯·ç¡®ä¿è“ç‰™å·²å¼€å¯</text>
		</view>
	</view>
</template>

<script>
export default {
	data() {
		return {
			
		}
	},
	methods: {
		goToScanPage() {
			uni.navigateTo({
				url: '/pages/index/device-list'
			});
		},
		goToUniversalScan() {
			console.log('ç‚¹å‡»äº†è“ç‰™æ‰«ææŒ‰é’®');
			uni.showToast({
				title: 'æ­£åœ¨è·³è½¬...',
				icon: 'loading',
				duration: 1000
			});
			
			uni.navigateTo({
				url: '/pages/index/universal-bluetooth-scan',
				success: (res) => {
					console.log('è·³è½¬æˆåŠŸ:', res);
				},
				fail: (err) => {
					console.error('è·³è½¬å¤±è´¥:', err);
					uni.showModal({
						title: 'è·³è½¬å¤±è´¥',
						content: 'æ— æ³•æ‰“å¼€è“ç‰™æ‰«æé¡µé¢: ' + JSON.stringify(err),
						showCancel: false
					});
				}
			});
		},
		showGuide() {
			uni.showModal({
				title: 'ä½¿ç”¨æŒ‡å—',
				content: '1. ç¡®ä¿è“ç‰™å·²å¼€å¯\n2. ç‚¹å‡»æ‰«æè®¾å¤‡\n3. é€‰æ‹©è¦è¿æ¥çš„è®¾å¤‡\n4. è¾“å…¥ WiFi ä¿¡æ¯å®Œæˆé…ç½‘',
				showCancel: false,
				confirmText: 'æˆ‘çŸ¥é“äº†'
			});
		}
	}
}
</script>

<style>
.home-container {
	min-height: 100vh;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	padding: 40rpx;
}

.header-section {
	text-align: center;
	padding-top: 80rpx;
	margin-bottom: 80rpx;
}

.logo {
	width: 120rpx;
	height: 120rpx;
	margin-bottom: 30rpx;
}

.app-title {
	font-size: 48rpx;
	color: #ffffff;
	font-weight: bold;
	display: block;
	margin-bottom: 20rpx;
}

.app-subtitle {
	font-size: 28rpx;
	color: rgba(255, 255, 255, 0.8);
	display: block;
}

.feature-cards {
	display: flex;
	justify-content: space-between;
	margin-bottom: 80rpx;
}

.feature-card {
	width: 45%;
	background: rgba(255, 255, 255, 0.95);
	border-radius: 20rpx;
	padding: 40rpx 20rpx;
	text-align: center;
	box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);
	transition: all 0.3s ease;
}

.feature-card:active {
	transform: scale(0.95);
}

.card-icon {
	margin-bottom: 20rpx;
}

.icon-bluetooth, .icon-guide {
	font-size: 60rpx;
}

.card-title {
	font-size: 32rpx;
	color: #333;
	font-weight: bold;
	display: block;
	margin-bottom: 10rpx;
}

.card-desc {
	font-size: 24rpx;
	color: #666;
	display: block;
}

.quick-start {
	margin-bottom: 60rpx;
}

.start-button {
	background: #ffffff;
	color: #667eea;
	border: none;
	border-radius: 50rpx;
	padding: 30rpx 60rpx;
	font-size: 32rpx;
	font-weight: bold;
	box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.2);
}

.start-button:active {
	transform: scale(0.95);
}

.button-text {
	color: #667eea;
}

.footer-tips {
	text-align: center;
	position: absolute;
	bottom: 60rpx;
	left: 0;
	right: 0;
}

.tip-text {
	font-size: 24rpx;
	color: rgba(255, 255, 255, 0.8);
}
</style> 